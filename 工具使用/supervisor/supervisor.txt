http://www.jianshu.com/p/d158074a2065


yum install -y supervisor
cp /etc/supervisord.conf /etc/supervisord_long.conf




vim /etc/supervisord_long.conf
[program:beegoblog]
command=/data/gowork/src/beegoblog/beegoblog            ; the program (relative uses PATH, can take args)
priority=3                ; the relative start priority (default 999)
autostart=true              ; start at supervisord start (default: true)
autorestart=true            ; retstart at unexpected quit (default: true)
;startsecs=10                ; number of secs prog must stay running (def. 10)
;startretries=3              ; max # of serial start failures (default 3)
;exitcodes=0,2               ; 'expected' exit codes for process (default 0,2)
;stopsignal=QUIT             ; signal used to kill process (default TERM)
;stopwaitsecs=10             ; max num secs to wait before SIGKILL (default 10)
;user=chrism                 ; setuid to this UNIX account to run the program
log_stdout=true             ; if true, log program stdout (default true)
log_stderr=true             ; if true, log program stderr (def false)
logfile=/var/log/beegoblog/log.txt    ; child log path, use NONE for none; default AUTO
logfile_maxbytes=100MB        ; max # logfile bytes b4 rotation (default 50MB)
;logfile_backups=10          ; # of logfile backups (default 10)







前台运行    supervisord -n -c /etc/supervisord_long.conf
后台运行    supervisord -c /etc/supervisord_long.conf


服务启动之后可以使用 :		supervisorctl
进入客户端，常用的操作有：	reload  start stop  help(查看帮助)




这是因为supervisor管理的进程必须在前台运行，不能以daemon的形式，否则无法管理，
类似
nginx需要在配置文件里加上：		daemon off;
redis需要在把配置文件的：		daemonize no


//----------------------------------------------------------------------------------

https://www.jianshu.com/p/3658c963d28b

https://pypi.python.org/pypi/supervisor

cd /usr/local/src
wget https://pypi.python.org/packages/7b/17/88adf8cb25f80e2bc0d18e094fcd7ab300632ea00b601cbbbb84c2419eae/supervisor-3.3.2.tar.gz
tar -zxvf supervisor-3.3.2.tar.gz
cd supervisor-3.3.2
python setup.py install #本地python版本为python2.7
# python2.7 setup.py install #本地python版本为python3以上

echo_supervisord_conf > /etc/supervisord.conf
